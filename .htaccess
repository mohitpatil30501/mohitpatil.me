# ----------------------------------------------------------------------
# Remove .html and .php extensions from URLs
# ----------------------------------------------------------------------

RewriteEngine On
RewriteBase /

# Serve index.html or index.php by default
DirectoryIndex index.php index.html

# Remove .html extension
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^([^/]+)/?$ $1.html [L]

# Remove .php extension (optional, only if you use PHP)
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# If file or directory doesn't exist, show custom 404 page (optional)
ErrorDocument 404 /404.html

# ----------------------------------------------------------------------
# Security Headers
# ----------------------------------------------------------------------

# Prevent MIME-type sniffing
Header set X-Content-Type-Options "nosniff"

# Prevent clickjacking
Header always append X-Frame-Options SAMEORIGIN

# Enable XSS protection
Header set X-XSS-Protection "1; mode=block"

# Disable server signature
ServerSignature Off

# ----------------------------------------------------------------------
# Disable directory listing
# ----------------------------------------------------------------------

Options -Indexes

# ----------------------------------------------------------------------
# Restrict access to sensitive files
# ----------------------------------------------------------------------

<FilesMatch "^\.ht">
  Require all denied
</FilesMatch>

<FilesMatch "(^#.*#|\.(bak|config|sql|fla|psd|ini|log|sh|inc|swp)|~)$">
  Require all denied
</FilesMatch>
